Программа для компьютера представляет собой кроссплатформенное desktop-приложение. Она написана на языке python с использованием графического фреймворка `PyQt`.

Чтобы запустить программу, предварительно нужно скачать и установить python для выбранной операционной системы. Установочные файлы и инструкции по установке есть на официальном сайте python.org. 

Также необходимо установить следующих набор библиотек c помощью комманд:

```sh
pip install PyQt5
pip install numpy
pip install pyqtgraph
pip install pyserial
```
программа запускается с помощью команды:

```sh
python main.py
```

Программа для компьютера состоит из 2х основных модулей:

1. `serial_port` - сбор сигнала от устройства через usb (серийный порт)
2. `gui` - графический интерфейс программы.

Перед тем, как рассматривать эти модули отдельно, рассмотрим файл `main.py`

С начала в нем производится импорт следующих модулей:

```py
import threading       # создание тредов (модуль стандартной библиотеки)
import signal          # общение между тредами с использованием сигналов (модуль стандартной библиотеки)
import sys             # используется для парсинга аргументов коммандной строки
import PyQt5.QtWidgets # фреймворк для графического интерфейса
import gui             # модуль отвечающий за графический интерфейс программы.
import serial_port     # сбор сигнала от устройства через usb(серийный порт)
```

чтобы запустить приложение с испольованием `PyQt5`, нужно создать объект `QApplication`
```py
app = PyQt5.QtWidgets.QApplication(sys.argv)
```

а также объект `gui.GUI` - основной класс в котором описывается графический интерфейс.
```py
gui = gui.GUI()
```

Чтобы приложение можно было правильно закрыть по нажатию `Ctrl-C`, регистрируется функцию которая будет обрабатываеть сигнал `SIGINT` (Keyboard Interrupt, прерывание с клавиатуры).

```py
def ctrl_c_handler(sig, frame):
    serial_port.stop_flag = True
    app.quit()

signal.signal(signal.SIGINT, ctrl_c_handler)
```

при прерывании с клавиатуры переменная `stop_flag` принимает значение `True` что говорит модулю `serial_port` что следует прекратить сбор данных с usb и закрыть соединение. Также производится выход из графического приложения.

модули `serial_port` и `gui` работают в разных потоках. Это нужно для того, чтобы сбор сигнала производился без пауз, а также чтобы графический интерфейс программы не зависал и быстро реагировал на действия пользователя.

Графический интерфейс будет испольняться в основном треде программы. Для моудуля `serial_port` создается дополнительные тред:

```py
serial_reader = threading.Thread(
    target=serial_port.run,
    args=(gui.bmp_signal, gui.mic_signal)
)
```

`target` - функция, которую будет исполнять тред, `args` - аргументы функции - 2 Qt-сигнала, о которых будет сказано далее.

Рассмотрим более детально, что происходит в модулях `serial_port` и `gui`.

